if git diff --cached --name-only | \
    grep -E $FILES_PATTERN | \
    xargs grep --with-filename -n $FORBIDDEN | \
    grep -v '//';
then
    echo -e "\n${red}COMMIT REJECTED!  Found console. references. Please remove them before committing.\n${no_color}"
    exit 1;
fi

FORBIDDEN='debugger'

#check for console. references in your code

if git diff --cached --name-only | \
    grep -E $FILES_PATTERN | \
    xargs grep --with-filename -n $FORBIDDEN | \
    grep -v '//';
then
    echo -e "\n${red}COMMIT REJECTED!  Found debugger references. Please remove them before committing.\n${no_color}"
    exit 1;
fi

echo -e "${green}No console. or debugger references found!${no_color}\n"
echo -e "${green}Git pre-commit hook was successful!${no_color}\n"

#execute lint-staged script
exec >/dev/tty 2>&1

npx lint-staged
